extends layout/main-layout.pug

block content    
    if errorMessage 
        span.errorMessage #{errorMessage}
    else 
        script.
            var chatId ='!{chat._id}';

        .chatPageContainer 
            .chatTitleBarContainer 
                +createChatImage(chat,userLoggedIn)
                span#chatName(data-toggle="modal", data-target="#chatNameModal")
            .mainContentContainer 
                .loadingSpinnerContainer 
                    img(src="/images/loading.gif", alt="Loading")
                .chatContainer(style="visibility: hidden" data-room:chat._id)
                    ul.chatMessages
                    
                    .typingDots 
                        img(src="/images/dot.gif", alt="Typing dots")
                    .footer 
                        textarea.inputTextbox(name="messageInput", placeholder="Send a message in here") 
                        button.sendMessageButton 
                            i.fa-regular.fa-paper-plane
        +createChatNameModal(chat)                
block scripts 
    script(src="/js/chatPage.js") 

